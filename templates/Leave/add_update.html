{% extends 'Leave/top_base.html' %}

{% block head %}
<title>add Leave</title>
{% endblock %}

{% block body %}

<div class="application_fram">
<div class="card">
    <div class="card-header bg-secondary">
        <h3>Leave create <span class="badge bg-primary" >Online</span> 
          
          HI <b> {{ current_user.username }}</b>
         
        </h3>
    </div>
    <div class="card-body">
        <div class="row">
            <div class="col-9">
                <table class="table table-bordered" id="leav_table">
                   <thead>
                     <th>Name</th>
                     <th>Leave detail</th>
                     <th>Date leave</th>
                     <th>Request date</th>
                     <th width="5%">Action</th>
                   </thead>
                   <tbody>
                    {% for leave in leaves %}
                    <tr>
                        <td>{{ leave.name }}</td>
                        <td>{{ leave.detail }}</td>
                        <td>{{ leave.date_request }}</td>
                        <td>{{ leave.date_create }}</td>
                        <td>
                          <a class="btn btn-block btn-danger" href="/delete/{{leave.id}}"><i class="fas fa-trash"></i></a>
                        </td>
                    </tr>
                {% endfor %}

                   </tbody>
                </table>
            </div>
            <div class="col-3">
                <div class="card card-primary">
                    <div class="card-header">
                        <i class="fas fa-plus-circle"></i> &nbsp;
                        <b>Add your leave request</b>
                    </div>
                    <div class="card-body">
                        <form action="/add" method="POST" > 
                            <div class="card-body">
                              <div class="form-group">
                                <label for="exampleInputEmail1">Name</label>
                                <input type="text"  name="name" id="name" class="form-control"  value="{{ current_user.username }}" readonly>
                              </div>
                              <div class="form-group">
                                <label for="exampleInputPassword1">Leave Detail</label>
                                <input  class="form-control" name="detail" id="detail" placeholder="Fill Detail..." required>
                              </div>
                              <div class="form-group">
                                <label for="exampleInputPassword1">Leave Dadte</label>
                                <input type="date" name="date" id="date" class="form-control" required>
                              </div> 
                            </div>
                            <div class="card-footer">
                              <button type="submit" class="btn btn-primary">Submit</button>
                            </div>
                          </form>

                    </div>
                </div>

            </div>

        </div>

    </div>
    
</div>
</div>
<script>
  $("#leav_table").DataTable()
</script>
{% endblock %}